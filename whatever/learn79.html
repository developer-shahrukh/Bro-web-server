<!DOCTYPE HTML>
<html lang='en'>
<head>
<meta charset='utf-8'>
<title>Validation Examples</title>
<script>
function validateForm(frm)
{
    var employeeId=frm.employeeId.value.trim();
    var firstName=frm.firstName.value.trim();
    var lastName=frm.lastName.value.trim();
    var dateOfBirth=frm.dateOfBirth.value.trim();
    var basicSalary=frm.basicSalary.value.trim();
    if(employeeId.length==0)
    {
        alert('Employee Id required');
        return  false;
    }
    if(firstName.length==0)
    {
        alert('First name required');
        return false;
    }
    if(lastName.length==0)
    {
        alert('Last name required');
        return false;
    }
    if(dateOfBirth.length==0)
    {
        alert('Date of birth required');
        return false;
    }
    if(basicSalary.length==0)
    {
        alert('Basic salary required');
        return false;
    }

    var digits="0123456789";
    var e=0;
    while(e<employeeId.length)
    {
        if(digits.indexOf(employeeId.charAt(e))==-1)
        {
            alert("Employee is should be an integer value");
            return false;
        }
        e++;
    }

    if(firstName.length>25)
    {
        alert("First name cannot exceed 25 characters");
        return false;
    }
    if(lastName.length>25)
    {
        alert("Last name cannot exceed 25 characters");
        return false;
    }
    // dateOfBirth validation start here
    if(dateOfBirth.length<8 || dateOfBirth>10)
    {
        alert("Invalid date of birth");
        return false;
    }
    var validSet='0123456789/';
    e=0;
    while(e<dateOfBirth.length)
    {
        if(validSet.indexOf(dateOfBirth.charAt(e))==-1)
        {
            alert("Invalid date of birth");
            return false;
        }
        e++;
    }
    var s1=dateOfBirth.indexOf("/");
    if(s1==1)
    {
        alert("Invalid date of birth");
        return false;
    }
    var s2=dateOfBirth.indexOf("/",s1+1);
    if(s2==-1)
    {
        alert("Invalid date of birth");
        return false;
    }
    if(s1==0 || s2>dateOfBirth.length-4 || s2-1==s1)
    {
        alert("Invalid date of birth");
        return false;
    }
    var dayPart=dateOfBirth.substring(0,s1);
    var monthPart=dateOfBirth.substring(s1+1,s2);
    var yearPart=dateOfBirth.substring(s2+1);
    var dd=parseInt(dayPart);
    var mm=parseInt(monthPart);
    var yy=parseInt(yearPart);
    if(yy<1950 || yy>=3000)
    {
        alert("Invalid date of birth");
        return false;
    }
    if(mm<1 || mm>12)
    {
        alert("Invalid date of birth");
        return false;
    }
    var mdays=[31,28,31,30,31,30,31,31,30,31,30,31];
    // note, you have think about one more condition
    // related to leap year
    if(yy%4==0) mdays[1]=29;
    if(dd<1 || dd>mdays[mm-1])
    {
        alert("invalid date of birth");
        return false;
    }
    // dateOfBirth validation ends here

    e=0;
    while(e<basicSalary.length)
    {
        if(digits.indexOf(basicSalary.charAt(e))==-1)
        {
            alert("Basic salary should be an integer value");
            return false;
        }
        e++;
    }
    return true;
}
</script>
</head>
<body>
<h1>Example 79</h1>
<h2>Form validation (Using very very old Style)</h2>

<!-- Submitting form data with get type request is not a good idea-->
<form method="get" action="addEmployee" onSubmit="return validateForm(this)">
Employee Id
    <input type="text" id="employeeId" name="employeeId"><br/>
    First name
    <input type="text" id="firstName" name="firstName"><br/>
    Last name
    <input type="text" id="lastName" name="lastName"><br/>
    Gender &nbsp;&nbsp;&nbsp;&nbsp;
    Male <input type="radio" id="male" value="M" name="gender" checked>
    Female <input type="radio" id="female" value="F" name="gender"><br/>
    Is Indian
    <input type="checkbox" id="isIndian" name="isIndian" value="Y" ><br/>
    Basic salary
    <input type="text" id="basicSalary" name="basicSalary"><br/>
<button type="submit">Add</button>
</form>

<br><a href='/'>Home</a>
</body>
</html>